<!DOCTYPE html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
<script>
function setup() {
  createCanvas(450, 800);
  // randomSeed(42)
  background("white");
  let x = width / 2;
  let y = height;
  let angle = -PI / 2;
  let length = 110;
  branch(x, y, angle, length);
}

function branch(x, y, angle, length) {
  let x2 = x + cos(angle) * length;
  let y2 = y + sin(angle) * length;
  strokeWeight(length / 10);
  line(x, y, x2, y2);
  length *= random(0.62, 1);
  stroke('#242222')

  if (random() > 0.9) {
    fill('#C880AC');
    circle(x2, y2, 15);
  }

  if (length < 10) return;
  if (random() < 0.1 && length < 50) return;
  let dAngle = random(-0.25, 0.25);
  branch(x2, y2, angle + dAngle, length);
  branch(x2, y2, angle - dAngle, length);
}


</script>
